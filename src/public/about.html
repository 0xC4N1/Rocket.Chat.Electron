<!doctype html>
<html>
<head>
	<title></title>
	<meta charset="utf-8" />
	<link rel="stylesheet" type="text/css" href="../stylesheets/main.css">

	<style>
		html {
			background-color: #ececec;
			font-family: helvetica;
			text-align: center;
			padding: 10px;
		}

		body {
			margin: 0px;
		}

		img {
			height: 60px;
			margin-bottom: 10px;
		}

		.app-name {
			font-size: 14px;
			font-weight: bold;
		}

		.app-version {
			margin-top: 20px;
			font-size: 11px;
		}

		.update {
			margin-top:10px;
		}
	</style>
</head>
	<body>
		<img src="images/icon.png">
		<div class="app-name">

		</div>
		<div class="app-version"></div>
		<span class="update-spin icon-spin3 animate-spin" style="display:none;"></span>

		<button class="update">Check for Updates</button>
		<script>
			var remote = require('electron').remote;
			document.querySelector('.app-name').innerHTML = remote.app.getName();
			document.querySelector('.app-version').innerHTML = 'Version '+remote.app.getVersion();
			document.querySelector('.update').onclick = function(e) {
				document.querySelector('.update-spin').setAttribute('style', '');
				document.querySelector('.update').setAttribute('disabled', 'disabled');
				require('electron').ipcRenderer.send('check-for-updates');

			}
			require('electron').ipcRenderer.on('update-result', (e, updateAvailable) => {
				document.querySelector('.update-spin').setAttribute('style', 'display:none');
				document.querySelector('.update').removeAttribute('disabled');
				if (!updateAvailable) {
					alert('No updates are available');
				}
			});



		</script>
	</body>
</html>
